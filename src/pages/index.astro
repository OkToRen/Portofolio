---
import Layout from '../layouts/Layout.astro';

// Data extracted directly from your CV
const personal = {
  name: "Darren Haryanto",
  role: "Lab Resource Management & CS Student",
  location: "Binus Alam Sutera",
  contact: {
    email: "darrenharyanto@gmail.com",
    linkedin: "www.linkedin.com/in/darren-haryanto-164841264",
    phone: "+62 811-1777-566" 
  }
};

const experience = [
  {
    role: "Laboratory Resource Management Officer",
    company: "Bina Nusantara Alam Sutera",
    date: "Jan 2026 - Present",
    desc: [
      "Guiding and managing Laboratory assistants.",
      "Allocating schedules and leading briefings.",
      "Handling recruitment for all Binus Laboratories."
    ]
  },
  {
    role: "Full-Time Software Lab Assistant",
    company: "Bina Nusantara Alam Sutera",
    date: "Feb 2025 - Jan 2026",
    desc: [
      "Taught students and graded projects/quizzes.",
      "Managed software lab trainee presentations.",
      "Passed Progressive Assistant Tests with distinction."
    ]
  },
  {
    role: "Part-Time Software Lab Assistant",
    company: "Bina Nusantara Alam Sutera",
    date: "Sep 2024 - Jan 2025",
    desc: [
      " instructed students and developed quiz/project materials."
    ]
  }
];

const education = [
  {
    school: "Universitas Bina Nusantara",
    degree: "Bachelor of Computer Science",
    date: "2023 - 2027 (Expected)",
    gpa: "3.82/4.00",
    note: "Scholarship Mentor for Odd Semester 2025/2026"
  },
  {
    school: "IPEKA Puri",
    degree: "High School Diploma",
    date: "2020 - 2023",
    gpa: "88.96/100"
  }
];

const skills = [
  "Rust", "Golang", "C/C#", "Java", 
  "React", "Next.js", "T-SQL", "PostgreSQL"
];
---

<Layout title={personal.name}>
  <!-- Full-Screen Hero Section with Parallax -->
  <div class="hero-wrapper" id="hero-wrapper">
    <div class="hero-section" id="hero">
      <div class="parallax-bg">
        <div class="floating-element elem-1"></div>
        <div class="floating-element elem-2"></div>
        <div class="floating-element elem-3"></div>
        <div class="floating-element elem-4"></div>
        <div class="floating-element elem-5"></div>
        
        <!-- Hand-drawn doodles with cycle animations -->
        <svg class="doodle-svg doodle-1" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path class="doodle-path" d="M 30 100 
                 Q 40 80, 50 100 
                 Q 60 120, 70 100 
                 Q 80 80, 90 100 
                 Q 100 120, 110 100 
                 Q 120 80, 130 100 
                 Q 140 120, 150 100 
                 Q 160 80, 170 100
                 C 175 110, 175 120, 170 130
                 Q 160 150, 150 140
                 Q 140 130, 130 140
                 Q 120 150, 110 140
                 Q 100 130, 90 140
                 Q 80 150, 70 140
                 Q 60 130, 50 140
                 Q 40 150, 30 140
                 C 25 130, 25 120, 30 110 Z" 
                stroke="currentColor" fill="none" stroke-width="2.5" 
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        
        <svg class="doodle-svg doodle-2" viewBox="0 0 150 150" xmlns="http://www.w3.org/2000/svg">
          <circle class="doodle-path" cx="75" cy="75" r="50" 
                  stroke="currentColor" fill="none" stroke-width="2.5" 
                  stroke-dasharray="5,5" stroke-linecap="round"/>
        </svg>
        
        <svg class="doodle-svg doodle-3" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path class="doodle-path" d="M 100 40
                 C 120 40, 135 55, 135 75
                 C 135 90, 125 100, 110 105
                 C 125 110, 140 120, 145 135
                 C 150 150, 145 165, 130 170
                 C 115 175, 100 170, 95 160
                 C 90 170, 75 175, 60 170
                 C 45 165, 40 150, 45 135
                 C 50 120, 65 110, 80 105
                 C 65 100, 55 90, 55 75
                 C 55 55, 70 40, 90 40
                 Q 95 40, 100 40
                 M 100 60
                 C 105 60, 110 65, 110 70
                 C 110 75, 105 80, 100 80
                 C 95 80, 90 75, 90 70
                 C 90 65, 95 60, 100 60 Z" 
                stroke="currentColor" fill="none" stroke-width="2.5" 
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        
        <svg class="doodle-svg doodle-4" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path class="doodle-path" d="M 50 100
                 C 50 70, 70 50, 100 50
                 C 130 50, 150 70, 150 100
                 Q 150 115, 140 125
                 C 145 130, 150 135, 150 142
                 C 150 155, 140 165, 125 165
                 Q 110 165, 100 155
                 Q 90 165, 75 165
                 C 60 165, 50 155, 50 142
                 C 50 135, 55 130, 60 125
                 Q 50 115, 50 100
                 M 70 100
                 C 70 85, 82 75, 95 75
                 Q 100 75, 105 75
                 C 118 75, 130 85, 130 100
                 Q 130 108, 125 113
                 Q 130 118, 130 125
                 C 130 135, 122 142, 110 142
                 Q 105 142, 100 138
                 Q 95 142, 90 142
                 C 78 142, 70 135, 70 125
                 Q 70 118, 75 113
                 Q 70 108, 70 100 Z" 
                stroke="currentColor" fill="none" stroke-width="2.5" 
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        
        <svg class="doodle-svg doodle-5" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path class="doodle-path" d="M 100 20 
                 C 130 30, 150 50, 160 80 
                 C 170 110, 165 140, 140 160 
                 C 115 180, 80 185, 55 170 
                 C 30 155, 20 125, 25 95 
                 C 30 65, 50 40, 75 30 
                 Q 85 26, 95 28 
                 Q 105 30, 110 40 
                 C 115 50, 115 65, 105 75 
                 C 95 85, 75 85, 65 75 
                 C 55 65, 55 50, 65 40 
                 Q 75 30, 85 35 
                 C 90 37, 93 42, 93 48 
                 C 93 54, 90 60, 85 63 
                 Q 80 66, 75 63 
                 C 72 61, 70 57, 71 53 
                 Q 72 49, 76 48" 
                stroke="currentColor" fill="none" stroke-width="2.5" 
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        
        <svg class="doodle-svg doodle-6" viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg">
          <path class="doodle-path" d="M 90 30
                 C 105 30, 118 37, 125 48
                 Q 132 58, 132 70
                 C 132 82, 125 92, 115 98
                 Q 125 105, 130 115
                 C 135 125, 135 137, 128 146
                 Q 121 155, 110 158
                 C 100 161, 90 158, 82 152
                 Q 74 158, 64 158
                 C 53 158, 44 152, 38 143
                 Q 32 134, 32 123
                 C 32 112, 38 102, 48 96
                 Q 38 90, 34 80
                 C 30 70, 32 58, 40 48
                 Q 48 38, 60 33
                 C 70 28, 80 29, 90 30
                 M 90 50
                 Q 82 50, 76 55
                 C 70 60, 68 68, 70 76
                 Q 72 84, 78 88
                 C 84 92, 92 92, 98 88
                 Q 104 84, 106 76
                 C 108 68, 106 60, 100 55
                 Q 94 50, 90 50 Z" 
                stroke="currentColor" fill="none" stroke-width="2.5" 
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        
        <svg class="doodle-svg doodle-7" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <circle class="doodle-path" cx="50" cy="30" r="8" stroke="currentColor" fill="none" stroke-width="2"/>
          <circle class="doodle-path" cx="25" cy="60" r="6" stroke="currentColor" fill="none" stroke-width="2"/>
          <circle class="doodle-path" cx="75" cy="65" r="7" stroke="currentColor" fill="none" stroke-width="2"/>
        </svg>
      </div>
      
      <header class="hero-content">
        <div class="hero-inner">
          <h1 class="hero-name">
            {personal.name}
          </h1>
          <p class="hero-role">{personal.role}</p>
          
          <div class="hero-contacts">
            <a href={`mailto:${personal.contact.email}`} class="hero-link">
              Email
            </a>
            <span class="divider">/</span>
            <a href={`https://${personal.contact.linkedin}`} target="_blank" class="hero-link">
              LinkedIn
            </a>
            <span class="divider">/</span>
            <span class="hero-phone">{personal.contact.phone}</span>
          </div>
        </div>
        
        <!-- <div class="scroll-prompt">
          <span>Scroll to explore</span>
          <div class="scroll-arrow">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 5v14M19 12l-7 7-7-7"/>
            </svg>
          </div>
        </div> -->
      </header>
    </div>
  </div>
  
  <!-- Portfolio Content Section -->
  <div class="portfolio-content" id="content">

  <!-- About Section -->
  <section class="mb-24 pb-16 border-b border-border">
    <h2 class="text-primary font-bold mb-6 uppercase tracking-wider text-sm">About</h2>
    <p class="text-muted leading-relaxed text-lg">
      Computer Science student and Laboratory Assistant with a strong passion for coding. 
      Experienced in low-level languages like <span class="text-primary font-semibold">Rust</span> and <span class="text-primary font-semibold">C</span>, 
      as well as modern web development. Accustomed to teaching, collaboration, and managing 
      technical teams.
    </p>
  </section>

  <!-- Experience Section -->
  <section class="mb-24 pb-16 border-b border-border">
    <h2 class="text-primary font-bold mb-8 uppercase tracking-wider text-sm">Experience</h2>
    <div class="space-y-12">
      {experience.map((job) => (
        <div class="group relative pl-6 border-l-2 border-border hover:border-accent transition-colors duration-300">
          <div class="absolute -left-[9px] top-0 h-4 w-4 rounded-full bg-surface border-2 border-border group-hover:border-accent group-hover:bg-accent transition-all duration-300"></div>
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-baseline mb-3">
            <h3 class="text-primary font-semibold text-lg">{job.role}</h3>
            <span class="text-xs text-muted font-mono bg-surface px-3 py-1 rounded-full">{job.date}</span>
          </div>
          <p class="text-sm text-accent mb-4">{job.company}</p>
          <ul class="list-disc list-inside text-base text-muted space-y-2">
            {job.desc.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </section>

  <!-- Skills Section -->
  <section class="mb-24 pb-16 border-b border-border">
    <h2 class="text-primary font-bold mb-8 uppercase tracking-wider text-sm">Technical Stack</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      {skills.map((skill) => (
        <div class="bg-surface border border-border hover:border-accent p-4 rounded-lg text-center text-sm font-medium transition-all hover:-translate-y-1 hover:shadow-lg">
          {skill}
        </div>
      ))}
    </div>
  </section>

  <!-- Education & Organization Section -->
  <section class="grid md:grid-cols-2 gap-12 mb-24 pb-16">
    <div class="bg-surface border border-border rounded-lg p-8">
      <h2 class="text-primary font-bold mb-6 uppercase tracking-wider text-sm">Education</h2>
      {education.map((edu) => (
        <div class="mb-8 last:mb-0">
          <h3 class="text-primary font-semibold text-lg">{edu.school}</h3>
          <p class="text-muted mt-1">{edu.degree}</p>
          <div class="flex justify-between items-center mt-3">
            <span class="text-xs text-muted">{edu.date}</span>
            <span class="text-xs text-accent bg-accent/10 px-3 py-1 rounded-full font-semibold">{edu.gpa}</span>
          </div>
        </div>
      ))}
    </div>
    
    <div class="bg-surface border border-border rounded-lg p-8">
      <h2 class="text-primary font-bold mb-6 uppercase tracking-wider text-sm">Organization</h2>
      <div class="mb-8">
        <h3 class="text-primary font-semibold text-lg">Ureeka Alam Sutera</h3>
        <p class="text-muted mt-1">Member (Hackathons & Support)</p>
        <span class="text-xs text-muted block mt-3">Apr 2024 - Present</span>
      </div>
      <div>
        <h3 class="text-primary font-semibold text-lg">First Year Program</h3>
        <p class="text-muted mt-1">Freshmen Partner</p>
        <span class="text-xs text-muted block mt-3">Feb 2024 - Jan 2025</span>
      </div>
    </div>
  </section>

  <footer class="text-center text-sm text-muted pt-10 border-t border-border">
    <p>&copy; {new Date().getFullYear()} Darren Haryanto. Built with Astro.</p>
  </footer>
  </div>
</Layout>

<style>
  /* Hero Wrapper */
  .hero-wrapper {
    position: relative;
    height: 100vh;
    overflow: hidden;
  }
  
  .hero-section {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
  }
  
  /* Parallax Background */
  .parallax-bg {
    position: absolute;
    inset: 0;
    overflow: hidden;
  }
  
  .floating-element {
    position: absolute;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.4;
    animation: drift 15s infinite ease-in-out;
  }
  
  .elem-1 {
    width: 400px;
    height: 400px;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    top: -10%;
    left: -10%;
    animation-duration: 20s;
    animation-delay: 0s;
  }
  
  .elem-2 {
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, #06b6d4, #3b82f6);
    top: 10%;
    right: -5%;
    animation-duration: 25s;
    animation-delay: 2s;
  }
  
  .elem-3 {
    width: 350px;
    height: 350px;
    background: linear-gradient(135deg, #10b981, #06b6d4);
    bottom: -10%;
    left: 20%;
    animation-duration: 22s;
    animation-delay: 4s;
  }
  
  .elem-4 {
    width: 250px;
    height: 250px;
    background: linear-gradient(135deg, #8b5cf6, #ec4899);
    bottom: 20%;
    right: 15%;
    animation-duration: 18s;
    animation-delay: 1s;
  }
  
  .elem-5 {
    width: 200px;
    height: 200px;
    background: linear-gradient(135deg, #f59e0b, #ef4444);
    top: 50%;
    left: 50%;
    animation-duration: 30s;
    animation-delay: 3s;
  }
  
  @keyframes drift {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    25% {
      transform: translate(50px, -50px) scale(1.1);
    }
    50% {
      transform: translate(-30px, 70px) scale(0.9);
    }
    75% {
      transform: translate(70px, 30px) scale(1.05);
    }
  }

  /* Hand-drawn doodles with rustic feel */
  .doodle-svg {
    position: absolute;
    opacity: 0;
    color: var(--color-accent);
    pointer-events: none;
    filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.2));
  }

  .doodle-1 {
    width: 200px;
    height: 200px;
    top: 12%;
    left: 8%;
    animation: doodleCycle 12s ease-in-out infinite;
    animation-delay: 0s;
    transform: rotate(-15deg);
  }

  .doodle-2 {
    width: 150px;
    height: 150px;
    top: 65%;
    right: 10%;
    animation: doodleCycle 14s ease-in-out infinite;
    animation-delay: 2s;
    transform: rotate(10deg);
  }

  .doodle-3 {
    width: 200px;
    height: 200px;
    bottom: 15%;
    left: 15%;
    animation: doodleCycle 16s ease-in-out infinite;
    animation-delay: 4s;
    transform: rotate(5deg);
  }

  .doodle-4 {
    width: 200px;
    height: 200px;
    top: 40%;
    right: 18%;
    animation: doodleCycle 13s ease-in-out infinite;
    animation-delay: 6s;
    transform: rotate(-8deg);
  }

  .doodle-5 {
    width: 200px;
    height: 200px;
    top: 20%;
    right: 35%;
    animation: doodleCycle 15s ease-in-out infinite;
    animation-delay: 8s;
    transform: rotate(12deg);
  }

  .doodle-6 {
    width: 180px;
    height: 180px;
    bottom: 30%;
    left: 35%;
    animation: doodleCycle 17s ease-in-out infinite;
    animation-delay: 10s;
    transform: rotate(-12deg);
  }

  .doodle-7 {
    width: 100px;
    height: 100px;
    top: 55%;
    left: 25%;
    animation: doodleCycle 11s ease-in-out infinite;
    animation-delay: 3s;
    transform: rotate(8deg);
  }

  /* Hand-drawn path animation with rustic feel */
  .doodle-path {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
  }

  /* Doodle cycle: fade in, draw, stay visible, fade out */
  @keyframes doodleCycle {
    0% {
      opacity: 0;
    }
    5% {
      opacity: 0.6;
    }
    20% {
      opacity: 0.6;
    }
    /* Draw phase */
    30% {
      opacity: 0.6;
    }
    /* Stay visible */
    70% {
      opacity: 0.6;
    }
    /* Fade out */
    85% {
      opacity: 0;
    }
    100% {
      opacity: 0;
    }
  }

  /* Animating each doodle's path */
  .doodle-1 .doodle-path {
    animation: drawPath 12s ease-in-out infinite;
    animation-delay: 0s;
  }

  .doodle-2 .doodle-path {
    animation: drawPath 14s ease-in-out infinite;
    animation-delay: 2s;
  }

  .doodle-3 .doodle-path {
    animation: drawPath 16s ease-in-out infinite;
    animation-delay: 4s;
  }

  .doodle-4 .doodle-path {
    animation: drawPath 13s ease-in-out infinite;
    animation-delay: 6s;
  }

  .doodle-5 .doodle-path {
    animation: drawPath 15s ease-in-out infinite;
    animation-delay: 8s;
  }

  .doodle-6 .doodle-path {
    animation: drawPath 17s ease-in-out infinite;
    animation-delay: 10s;
  }

  .doodle-7 .doodle-path {
    animation: drawPath 11s ease-in-out infinite;
    animation-delay: 3s;
  }

  @keyframes drawPath {
    0% {
      stroke-dashoffset: 1000;
    }
    5% {
      stroke-dashoffset: 1000;
    }
    /* Drawing phase */
    30% {
      stroke-dashoffset: 0;
    }
    /* Stay drawn */
    70% {
      stroke-dashoffset: 0;
    }
    /* Erase */
    85% {
      stroke-dashoffset: -1000;
    }
    100% {
      stroke-dashoffset: -1000;
    }
  }
  
  /* Hero Content */
  .hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    width: 100%;
    max-width: 1000px;
    padding: 0 2rem;
  }
  
  .hero-inner {
    animation: fadeInUp 1.2s ease-out;
  }
  
  .hero-name {
    font-size: clamp(3.5rem, 10vw, 8rem);
    font-weight: 900;
    line-height: 1.075;
    letter-spacing: -0.04em;
    color: var(--color-primary);
    margin-bottom: 2rem;
    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: fadeInUp 1.2s ease-out 0.2s both, glow 3s ease-in-out infinite;
  }
  
  @keyframes glow {
    0%, 100% {
      filter: drop-shadow(0 0 30px rgba(59, 130, 246, 0.3));
    }
    50% {
      filter: drop-shadow(0 0 50px rgba(59, 130, 246, 0.5));
    }
  }
  
  .hero-role {
    font-size: clamp(1.25rem, 3vw, 2.25rem);
    color: var(--color-muted);
    margin-bottom: 3rem;
    animation: fadeInUp 1.2s ease-out 0.4s both;
    font-weight: 300;
  }
  
  .hero-contacts {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
    align-items: center;
    font-size: 1.125rem;
    animation: fadeInUp 1.2s ease-out 0.6s both;
  }
  
  .hero-link {
    color: var(--color-accent);
    text-decoration: none;
    position: relative;
    font-weight: 500;
    transition: color 0.3s ease;
  }
  
  .hero-link::before {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--color-accent);
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s ease;
  }
  
  .hero-link:hover::before {
    transform: scaleX(1);
    transform-origin: left;
  }
  
  .hero-link:hover {
    color: var(--color-primary);
  }
  
  .divider {
    color: var(--color-border);
    font-weight: 300;
  }
  
  .hero-phone {
    color: var(--color-muted);
  }
  
  /* Scroll Prompt */
  .scroll-prompt {
    position: absolute;
    bottom: 3rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    color: var(--color-muted);
    font-size: 0.875rem;
    animation: fadeIn 1.5s ease-out 1s both;
    cursor: pointer;
    transition: color 0.3s ease;
    pointer-events: auto;
    z-index: 1;
  }
  
  .scroll-prompt:hover {
    color: var(--color-accent);
  }
  
  .scroll-arrow {
    animation: bounce 2s infinite;
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }
  
  /* Portfolio Content */
  .portfolio-content {
    position: relative;
    background: var(--color-background);
    z-index: 20;
    margin-top: 100vh;
    opacity: 0;
    transform: translateY(50px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
  
  .portfolio-content.visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Section animations */
  .portfolio-content section {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  
  .portfolio-content section.visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  @media (max-width: 768px) {
    .floating-element {
      filter: blur(40px);
      opacity: 0.3;
    }
    
    .hero-contacts {
      font-size: 1rem;
      gap: 1rem;
    }

    /* Hide most doodles on mobile - keep only 2-3 */
    .doodle-1,
    .doodle-3,
    .doodle-4,
    .doodle-6 {
      display: none;
    }

    /* Make remaining doodles smaller and less intrusive */
    .doodle-2,
    .doodle-5,
    .doodle-7 {
      width: 80px;
      height: 80px;
      opacity: 0;
      filter: drop-shadow(0 0 4px rgba(59, 130, 246, 0.15));
    }

    .doodle-2 {
      width: 90px;
      height: 90px;
    }

    .doodle-5 {
      width: 100px;
      height: 100px;
    }
  }
</style>

<script>
  // Parallax scroll effect
  let ticking = false;
  let scrollThreshold = false;
  
  function handleScroll() {
    const scrollY = window.scrollY;
    const windowHeight = window.innerHeight;
    const hero = document.getElementById('hero');
    const heroInner = document.querySelector('.hero-inner') as HTMLElement;
    const parallaxBg = document.querySelector('.parallax-bg') as HTMLElement;
    const floatingElements = document.querySelectorAll('.floating-element');
    const content = document.getElementById('content');
    const scrollPrompt = document.querySelector('.scroll-prompt') as HTMLElement;
    
    // Calculate scroll progress (0 to 1)
    const scrollProgress = Math.min(scrollY / windowHeight, 1);
    
    if (hero && heroInner && parallaxBg) {
      // Fade out and move hero content
      const opacity = 1 - scrollProgress * 1.5;
      const translateY = scrollProgress * 100;
      const scale = 1 - scrollProgress * 0.3;
      
      heroInner.style.opacity = Math.max(0, opacity).toString();
      heroInner.style.transform = `translateY(-${translateY}px) scale(${scale})`;
      
      // Hide scroll prompt earlier
      if (scrollPrompt) {
        scrollPrompt.style.opacity = Math.max(0, 1 - scrollProgress * 2).toString();
      }
      
      // Move background elements at different speeds (parallax)
      floatingElements.forEach((elem, index) => {
        const speed = 0.3 + (index * 0.15);
        const moveY = scrollProgress * windowHeight * speed;
        const rotate = scrollProgress * 90 * (index % 2 === 0 ? 1 : -1);
        (elem as HTMLElement).style.transform = `translateY(${moveY}px) rotate(${rotate}deg)`;
      });
      
      // Scale and blur background
      const bgScale = 1 + scrollProgress * 0.5;
      const bgBlur = scrollProgress * 20;
      parallaxBg.style.transform = `scale(${bgScale})`;
      parallaxBg.style.filter = `blur(${bgBlur}px)`;
      parallaxBg.style.opacity = (1 - scrollProgress * 0.7).toString();
      
      // Hide hero completely when scrolled past
      if (scrollProgress >= 0.95) {
        hero.style.opacity = '0';
        hero.style.pointerEvents = 'none';
      } else {
        hero.style.opacity = '1';
        hero.style.pointerEvents = 'auto';
      }
    }
    
    // Show content only after hero transition is complete
    if (content && scrollProgress >= 0.85 && !scrollThreshold) {
      scrollThreshold = true;
      setTimeout(() => {
        content.classList.add('visible');
      }, 200);
    } else if (content && scrollProgress < 0.85 && scrollThreshold) {
      scrollThreshold = false;
      content.classList.remove('visible');
    }
    
    ticking = false;
  }
  
  function requestTick() {
    if (!ticking) {
      requestAnimationFrame(handleScroll);
      ticking = true;
    }
  }
  
  window.addEventListener('scroll', requestTick);
  
  // Initial call
  handleScroll();
  
  // Intersection Observer for sections
  const sections = document.querySelectorAll('.portfolio-content section');
  const sectionObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    },
    { threshold: 0.15, rootMargin: '0px 0px -100px 0px' }
  );
  
  sections.forEach((section) => sectionObserver.observe(section));
  
  // Smooth scroll on prompt click
  const scrollPrompt = document.querySelector('.scroll-prompt');
  scrollPrompt?.addEventListener('click', () => {
    window.scrollTo({
      top: window.innerHeight,
      behavior: 'smooth'
    });
  });
</script>